{"remainingRequest":"D:\\activiti\\project01\\jeecg-boot-activiti-master\\ant-design-vue-jeecg\\node_modules\\babel-loader\\lib\\index.js!D:\\activiti\\project01\\jeecg-boot-activiti-master\\ant-design-vue-jeecg\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\activiti\\project01\\jeecg-boot-activiti-master\\ant-design-vue-jeecg\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\activiti\\project01\\jeecg-boot-activiti-master\\ant-design-vue-jeecg\\src\\components\\jeecg\\dynamic\\JSqlCodeEditorDyn.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\activiti\\project01\\jeecg-boot-activiti-master\\ant-design-vue-jeecg\\src\\components\\jeecg\\dynamic\\JSqlCodeEditorDyn.vue","mtime":1611914356000},{"path":"D:\\activiti\\project01\\jeecg-boot-activiti-master\\ant-design-vue-jeecg\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1621061384845},{"path":"D:\\activiti\\project01\\jeecg-boot-activiti-master\\ant-design-vue-jeecg\\node_modules\\babel-loader\\lib\\index.js","mtime":1621061377995},{"path":"D:\\activiti\\project01\\jeecg-boot-activiti-master\\ant-design-vue-jeecg\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1621061384845},{"path":"D:\\activiti\\project01\\jeecg-boot-activiti-master\\ant-design-vue-jeecg\\node_modules\\vue-loader\\lib\\index.js","mtime":1621061372054}],"contextDependencies":[],"result":["var _props;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n//\n//\n//\n//\n//\n//\n//\n//\nimport load from './load';\nimport '@/assets/less/codemirror_idea.css';\nimport './cm_sql_hint.js';\nimport { sql_keyword } from './Resource';\nexport default {\n  name: 'JSqlCodeEditorDyn',\n  props: (_props = {\n    id: {\n      type: String,\n      default: function _default() {\n        return 'vue-editor-' + new Date() + ((Math.random() * 1000).toFixed(0) + '');\n      }\n    },\n    value: {\n      type: String,\n      default: ''\n    },\n    // 显示行号\n    lineNumbers: {\n      type: Boolean,\n      default: true\n    },\n    placeholder: {\n      type: String,\n      default: ''\n    },\n    zIndex: {\n      type: [Number, String],\n      default: 999\n    },\n    autoHeight: {\n      type: [String, Boolean],\n      default: true\n    },\n    // 不自适应高度的情况下生效的固定高度\n    height: {\n      type: [String, Number],\n      default: '240px'\n    }\n  }, _defineProperty(_props, \"autoHeight\", {\n    type: [String, Boolean],\n    default: true\n  }), _defineProperty(_props, \"fullScreen\", {\n    type: Boolean,\n    default: false\n  }), _defineProperty(_props, \"autoHint\", {\n    type: Boolean,\n    default: true\n  }), _props),\n  data: function data() {\n    return {\n      dynamicId: this.id,\n      coder: '',\n      hasCode: false,\n      code: '',\n      // code 编辑器 是否全屏\n      fullCoder: false,\n      iconType: 'fullscreen'\n    };\n  },\n  computed: {\n    placeholderShow: function placeholderShow() {\n      if (this.placeholder == null) {\n        return \"\\u8BF7\\u5728\\u6B64\\u8F93\\u5165javascript\\u4EE3\\u7801\";\n      } else {\n        return this.placeholder;\n      }\n    },\n    nullTipStyle: function nullTipStyle() {\n      if (this.lineNumbers) {\n        return {\n          left: '36px'\n        };\n      } else {\n        return {\n          left: '12px'\n        };\n      }\n    },\n    isAutoHeight: function isAutoHeight() {\n      var autoHeight = this.autoHeight;\n\n      if (typeof autoHeight === 'string' && autoHeight.toLowerCase().trim() === '!ie') {\n        autoHeight = !(isIE() || isIE11());\n      } else {\n        autoHeight = true;\n      }\n\n      return autoHeight;\n    },\n    fullScreenParentProps: function fullScreenParentProps() {\n      var props = {\n        class: {\n          'full-screen-parent': true,\n          'full-screen': this.fullCoder,\n          'auto-height': this.isAutoHeight\n        },\n        style: {}\n      };\n\n      if (this.fullCoder) {\n        props.style['z-index'] = this.zIndex;\n      }\n\n      if (!this.isAutoHeight) {\n        props.style['height'] = typeof this.height === 'number' ? this.height + 'px' : this.height;\n      }\n\n      return props;\n    }\n  },\n  watch: {\n    fullCoder: {\n      handler: function handler(value) {\n        if (value) {\n          this.iconType = \"fullscreen-exit\";\n        } else {\n          this.iconType = \"fullscreen\";\n        }\n      }\n    }\n  },\n  mounted: function mounted() {\n    this.init();\n  },\n  methods: {\n    init: function init() {\n      this.main();\n    },\n    main: function main() {\n      var obj = document.getElementById(this.dynamicId);\n      var that = this;\n      var editor = CodeMirror.fromTextArea(obj, {\n        theme: 'idea',\n        lineNumbers: this.lineNumbers,\n        lineWrapping: true,\n        mode: \"sql\",\n        indentUnit: 1,\n        indentWithTabs: true,\n        styleActiveLine: true,\n\n        /* styleSelectedText: false, */\n        extraKeys: {\n          \"F11\": function F11(cm) {\n            that.fullCoder = !that.fullCoder;\n            cm.setOption(\"fullScreen\", !cm.getOption(\"fullScreen\"));\n          },\n          \"Esc\": function Esc(cm) {\n            that.fullCoder = false;\n            if (cm.getOption(\"fullScreen\")) cm.setOption(\"fullScreen\", false);\n          },\n          \"Alt-/\": function Alt(cm) {\n            cm.showHint();\n          },\n          \"Tab\": function Tab(cm) {\n            if (cm.somethingSelected()) {\n              cm.indentSelection('add');\n            } else {\n              //cm.indentLine(cm.getCursor().line, \"add\");\n              //走两格 第三格输入\n              cm.replaceSelection(Array(3).join(\" \"), \"end\", \"+input\");\n            }\n          },\n          \"Shift-Tab\": function ShiftTab(cm) {\n            if (cm.somethingSelected()) {\n              cm.indentSelection('subtract');\n            } else {\n              // cm.indentLine(cm.getCursor().line, \"subtract\");\n              var cursor = cm.getCursor(); // 光标回退 indexUnit 字符\n\n              cm.setCursor({\n                line: cursor.line,\n                ch: cursor.ch - 4\n              });\n            }\n\n            return;\n          }\n        }\n      });\n      this.coder = editor;\n      this.addEvent();\n      this.setCoderValue();\n      this.addSystemHint();\n    },\n    setCoderValue: function setCoderValue() {\n      if (this.value || this.code) {\n        this.hasCode = true;\n        this.setCodeContent(this.value || this.code);\n      } else {\n        this.coder.setValue('');\n        this.hasCode = false;\n      }\n    },\n    getCodeContent: function getCodeContent() {\n      return this.code;\n    },\n    setCodeContent: function setCodeContent(val) {\n      var _this = this;\n\n      setTimeout(function () {\n        if (!val) {\n          _this.coder.setValue('');\n        } else {\n          _this.coder.setValue(val);\n        }\n      }, 300);\n    },\n    addSystemHint: function addSystemHint() {\n      this.coder.setOption('hintOptions', {\n        completeSingle: false,\n        tables: sql_keyword\n      });\n    },\n    addEvent: function addEvent() {\n      var _this2 = this;\n\n      if (this.autoHint) {\n        this.coder.on('cursorActivity', function () {\n          _this2.coder.showHint();\n        });\n      }\n\n      this.coder.on('change', function (coder) {\n        _this2.code = coder.getValue();\n\n        if (_this2.code) {\n          _this2.hasCode = true;\n        } else {\n          _this2.hasCode = false;\n        }\n\n        if (_this2.$emit) {\n          _this2.$emit('input', _this2.code);\n        }\n      });\n      this.coder.on('focus', function () {\n        _this2.hasCode = true;\n      });\n      this.coder.on('blur', function () {\n        if (_this2.code) {\n          _this2.hasCode = true;\n        } else {\n          _this2.hasCode = false;\n        }\n      });\n    },\n    loadResource: function loadResource(src, type) {\n      return new Promise(function (resolve, reject) {\n        load(src, type, function (msg) {\n          if (!msg) {\n            resolve();\n          } else {\n            reject(msg);\n          }\n        });\n      });\n    },\n    nullTipClick: function nullTipClick() {\n      this.coder.focus();\n    },\n    fullToggle: function fullToggle() {\n      this.fullCoder = !this.fullCoder;\n      this.coder.setOption(\"fullScreen\", this.fullCoder);\n    }\n  }\n};",{"version":3,"sources":["JSqlCodeEditorDyn.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"jeecg-editor-ty\" :class=\"fullCoder?'jeecg-editor-max':'jeecg-editor-min'\">\n    <a-icon v-if=\"fullScreen\" class=\"full-screen-icon\" :type=\"iconType\" @click=\"()=>fullCoder=!fullCoder\"/>\n    <textarea :id=\"dynamicId\" />\n    <span @click=\"nullTipClick\" class=\"null-tip\" :class=\"{'null-tip-hidden': hasCode}\" :style=\"nullTipStyle\">{{ placeholderShow }}</span>\n  </div>\n</template>\n\n<script>\n  import load from './load'\n  import '@/assets/less/codemirror_idea.css'\n  import './cm_sql_hint.js'\n  import { sql_keyword } from './Resource'\n\n\n  export default {\n    name: 'JSqlCodeEditorDyn',\n    props:{\n      id: {\n        type: String,\n        default: function() {\n          return 'vue-editor-' + new Date() + ((Math.random() * 1000).toFixed(0) + '')\n        }\n      },\n      value: {\n        type: String,\n        default: ''\n      },\n      // 显示行号\n      lineNumbers: {\n        type: Boolean,\n        default: true\n      },\n      placeholder: {\n        type: String,\n        default: ''\n      },\n      zIndex: {\n        type: [Number, String],\n        default: 999\n      },\n      autoHeight: {\n        type: [String, Boolean],\n        default: true\n      },\n      // 不自适应高度的情况下生效的固定高度\n      height: {\n        type: [String, Number],\n        default: '240px'\n      },\n      autoHeight: {\n        type: [String, Boolean],\n        default: true\n      },\n      // 是否显示全屏按钮\n      fullScreen: {\n        type: Boolean,\n        default: false\n      },\n      autoHint:{\n        type: Boolean,\n        default: true\n      }\n\n    },\n    data(){\n      return {\n        dynamicId: this.id,\n        coder: '',\n        hasCode: false,\n        code: '',\n        // code 编辑器 是否全屏\n        fullCoder: false,\n        iconType: 'fullscreen',\n      }\n    },\n    computed:{\n      placeholderShow() {\n        if (this.placeholder == null) {\n          return `请在此输入javascript代码`\n        } else {\n          return this.placeholder\n        }\n      },\n      nullTipStyle(){\n        if (this.lineNumbers) {\n          return { left: '36px' }\n        } else {\n          return { left: '12px' }\n        }\n      },\n      isAutoHeight() {\n        let {autoHeight} = this\n        if (typeof autoHeight === 'string' && autoHeight.toLowerCase().trim() === '!ie') {\n          autoHeight = !(isIE() || isIE11())\n        } else {\n          autoHeight = true\n        }\n        return autoHeight\n      },\n      fullScreenParentProps() {\n        let props = {\n          class: {\n            'full-screen-parent': true,\n            'full-screen': this.fullCoder,\n            'auto-height': this.isAutoHeight\n          },\n          style: {}\n        }\n        if (this.fullCoder) {\n          props.style['z-index'] = this.zIndex\n        }\n        if (!this.isAutoHeight) {\n          props.style['height'] = (typeof this.height === 'number' ? this.height + 'px' : this.height)\n        }\n        return props\n      }\n    },\n    watch: {\n      fullCoder:{\n        handler(value) {\n          if(value){\n            this.iconType=\"fullscreen-exit\"\n          }else{\n            this.iconType=\"fullscreen\"\n          }\n        }\n      }\n    },\n    mounted() {\n      this.init()\n    },\n    methods:{\n      init(){\n        this.main();\n      },\n      main(){\n        let obj = document.getElementById(this.dynamicId);\n        const that = this;\n        let editor = CodeMirror.fromTextArea(obj,{\n          theme:'idea',\n          lineNumbers: this.lineNumbers,\n          lineWrapping: true,\n          mode: \"sql\",\n          indentUnit: 1,\n          indentWithTabs: true,\n          styleActiveLine: true,\n          /* styleSelectedText: false, */\n          extraKeys: {\n            \"F11\": function(cm) {\n              that.fullCoder = !that.fullCoder\n              cm.setOption(\"fullScreen\", !cm.getOption(\"fullScreen\"));\n            },\n            \"Esc\": function(cm) {\n              that.fullCoder = false\n              if (cm.getOption(\"fullScreen\")) cm.setOption(\"fullScreen\", false);\n            },\n            \"Alt-/\":  function(cm) {\n              cm.showHint();\n            },\n            \"Tab\": (cm) => {\n              if (cm.somethingSelected()) {\n                cm.indentSelection('add');\n              } else {\n                //cm.indentLine(cm.getCursor().line, \"add\");\n                //走两格 第三格输入\n                cm.replaceSelection(Array(3).join(\" \"), \"end\", \"+input\");\n              }\n            },\n            \"Shift-Tab\": (cm) => {\n              if (cm.somethingSelected()) {\n                cm.indentSelection('subtract');\n              } else {\n                // cm.indentLine(cm.getCursor().line, \"subtract\");\n                const cursor = cm.getCursor();\n                // 光标回退 indexUnit 字符\n                cm.setCursor({line: cursor.line, ch: cursor.ch - 4});\n              }\n              return ;\n            }\n          }\n        })\n        this.coder = editor\n        this.addEvent();\n        this.setCoderValue();\n        this.addSystemHint();\n      },\n      setCoderValue(){\n        if(this.value||this.code){\n          this.hasCode=true\n          this.setCodeContent(this.value || this.code)\n        }else{\n          this.coder.setValue('')\n          this.hasCode=false\n        }\n      },\n      getCodeContent(){\n        return this.code\n      },\n      setCodeContent(val){\n        setTimeout(()=>{\n          if(!val){\n            this.coder.setValue('')\n          }else{\n            this.coder.setValue(val)\n          }\n        },300)\n      },\n      addSystemHint(){\n        this.coder.setOption('hintOptions', {\n          completeSingle: false,\n          tables: sql_keyword\n        });\n      },\n      addEvent(){\n        if(this.autoHint){\n          this.coder.on('cursorActivity', ()=>{\n            this.coder.showHint();\n          });\n        }\n        this.coder.on('change', (coder) => {\n          this.code = coder.getValue()\n          if(this.code){\n            this.hasCode=true\n          }else{\n            this.hasCode=false\n          }\n          if (this.$emit) {\n            this.$emit('input', this.code)\n          }\n        });\n        this.coder.on('focus', () => {\n          this.hasCode=true\n        });\n        this.coder.on('blur', () => {\n          if(this.code){\n            this.hasCode=true\n          }else{\n            this.hasCode=false\n          }\n        });\n      },\n      loadResource(src,type){\n        return new Promise((resolve,reject)=>{\n          load(src,type,(msg)=>{\n            if(!msg){\n              resolve();\n            }else{\n              reject(msg)\n            }\n          })\n        })\n      },\n      nullTipClick(){\n        this.coder.focus()\n      },\n      fullToggle(){\n        this.fullCoder = !this.fullCoder\n        this.coder.setOption(\"fullScreen\", this.fullCoder);\n      }\n\n    }\n\n\n  }\n</script>\n<style lang=\"less\" >\n  .jeecg-editor-ty{\n    position: relative;\n\n    .full-screen-icon {\n      opacity: 0;\n      color: black;\n      width: 20px;\n      height: 20px;\n      line-height: 24px;\n      background-color: white;\n      position: absolute;\n      top: 4px;\n      right: 2px;\n      z-index: 9;\n      cursor: pointer;\n      transition: opacity 0.3s;\n    }\n    &:hover {\n      .full-screen-icon {\n        opacity: 1;\n\n        &:hover {\n          background-color: rgba(255, 255, 255, 0.88);\n        }\n      }\n    }\n\n    .null-tip{\n      position: absolute;\n      top: 4px;\n      left: 36px;\n      z-index: 10;\n      font-size:16px;\n      color: #acaaaac9;\n      line-height: initial;\n    }\n    .null-tip-hidden{\n      display: none;\n    }\n  }\n  .jeecg-editor-max{\n    position: fixed;\n    left: 0;\n    top: 0;\n    z-index: 999;\n    height: 100%;\n    width: 100% !important;\n\n    .CodeMirror{\n      position: inherit !important;\n      width: 100%;\n      height: 100%;\n    }\n    .full-screen-icon{\n      z-index:9999;\n    }\n  }\n</style>"],"sourceRoot":"src/components/jeecg/dynamic"}]}