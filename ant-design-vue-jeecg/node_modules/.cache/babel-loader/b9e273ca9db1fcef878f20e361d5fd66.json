{"remainingRequest":"D:\\activiti\\project01\\jeecg-boot-activiti-master\\ant-design-vue-jeecg\\node_modules\\babel-loader\\lib\\index.js!D:\\activiti\\project01\\jeecg-boot-activiti-master\\ant-design-vue-jeecg\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\activiti\\project01\\jeecg-boot-activiti-master\\ant-design-vue-jeecg\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\activiti\\project01\\jeecg-boot-activiti-master\\ant-design-vue-jeecg\\src\\extends\\Bpdf\\Bpdf.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\activiti\\project01\\jeecg-boot-activiti-master\\ant-design-vue-jeecg\\src\\extends\\Bpdf\\Bpdf.vue","mtime":1611914356000},{"path":"D:\\activiti\\project01\\jeecg-boot-activiti-master\\ant-design-vue-jeecg\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1621061384845},{"path":"D:\\activiti\\project01\\jeecg-boot-activiti-master\\ant-design-vue-jeecg\\node_modules\\babel-loader\\lib\\index.js","mtime":1621061377995},{"path":"D:\\activiti\\project01\\jeecg-boot-activiti-master\\ant-design-vue-jeecg\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1621061384845},{"path":"D:\\activiti\\project01\\jeecg-boot-activiti-master\\ant-design-vue-jeecg\\node_modules\\vue-loader\\lib\\index.js","mtime":1621061372054}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport Vue from 'vue';\nimport { ACCESS_TOKEN } from \"@/store/mutation-types\";\nimport pdf from 'vue-pdf';\nimport { getFileAccessHttpUrl } from \"@api/manage\";\nexport default {\n  components: {\n    pdf: pdf\n  },\n  name: \"bPdf\",\n  props: {\n    file: {\n      type: String,\n      default: null,\n      required: false\n    }\n  },\n  data: function data() {\n    return {\n      url: '',\n      id: \"pdfPreviewIframe\",\n      headers: {},\n      pageNum: 1,\n      pageTotalNum: 1,\n      pageRotate: 0,\n      // 加载进度\n      loadedRatio: 0,\n      curPageNum: 0\n    };\n  },\n  created: function created() {\n    var token = Vue.ls.get(ACCESS_TOKEN);\n    this.headers = {\n      \"X-Access-Token\": token\n    };\n\n    if (this.file) {\n      this.url = getFileAccessHttpUrl(this.file);\n    }\n  },\n  computed: {},\n  mounted: function mounted() {},\n  methods: {\n    onChange: function onChange(pageNumber) {\n      console.log('Page: ', pageNumber);\n    },\n    // 上一页函数，\n    prePage: function prePage() {\n      var page = this.pageNum;\n      page = page > 1 ? page - 1 : this.pageTotalNum;\n      this.pageNum = page;\n    },\n    // 下一页函数\n    nextPage: function nextPage() {\n      var page = this.pageNum;\n      page = page < this.pageTotalNum ? page + 1 : 1;\n      this.pageNum = page;\n    },\n    // 页面顺时针翻转90度。\n    clock: function clock() {\n      this.pageRotate += 90;\n    },\n    // 页面逆时针翻转90度。\n    counterClock: function counterClock() {\n      this.pageRotate -= 90;\n    },\n    // 页面加载回调函数，其中e为当前页数\n    pageLoaded: function pageLoaded(e) {\n      this.curPageNum = e;\n    },\n    // 其他的一些回调函数。\n    pdfError: function pdfError(error) {\n      console.error(error);\n    },\n    toPage: function toPage(pageNum) {\n      this.pageNum = pageNum;\n    },\n    skip: function skip() {\n      var pageNum = this.pageNum;\n\n      if (!Number(pageNum)) {\n        pageNum = 1;\n      }\n\n      if (pageNum < 1) pageNum = 1;\n      if (pageNum > this.pageTotalNum) pageNum = this.pageTotalNum;\n      this.pageNum = Math.floor(pageNum);\n    },\n    down: function down() {\n      window.open(this.url);\n    }\n  }\n};",{"version":3,"sources":["Bpdf.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"b-pdf\">\n    <div v-if=\"url!=''\">\n      <div class=\"tools\">\n        <a-button @click.stop=\"toPage(1)\"><a-icon type=\"vertical-right\" /> 首页</a-button>\n        <a-button @click.stop=\"prePage\"><a-icon type=\"left\" /> 上一页</a-button>\n        <span class=\"page\">{{pageNum}}/{{pageTotalNum}} </span>\n        跳转到: &nbsp;<a-input-number v-model=\"pageNum\" @change=\"skip\" style=\"width: 60px;margin-right: 4px;\"></a-input-number>\n        <a-button @click.stop=\"nextPage\"><a-icon type=\"right\" /> 下一页</a-button>\n        <a-button @click.stop=\"toPage(pageTotalNum)\"><a-icon type=\"vertical-left\" /> 尾页</a-button>\n        <span style=\"float: right\">\n          <a-button @click.stop=\"clock\"><a-icon type=\"redo\" /> 顺时针</a-button>\n          <a-button @click.stop=\"counterClock\"><a-icon type=\"undo\" /> 逆时针</a-button>\n          <a-button @click.stop=\"down\"><a-icon type=\"arrow-down\" />下载</a-button>\n        </span>\n      </div>\n      <pdf ref=\"pdf\"\n           :src=\"url\"\n           :page=\"pageNum\"\n           :rotate=\"pageRotate\"\n           @progress=\"loadedRatio = $event\"\n           @page-loaded=\"pageLoaded($event)\"\n           @num-pages=\"pageTotalNum=$event\"\n           @error=\"pdfError($event)\"\n           @link-clicked=\"page = $event\">\n      </pdf>\n    </div>\n    <a-empty v-else :description=\"'未找到pdf文件'\">\n    </a-empty>\n  </div>\n</template>\n\n<script>\n  import Vue from 'vue'\n  import { ACCESS_TOKEN } from \"@/store/mutation-types\"\n  import pdf from 'vue-pdf'\n  import {getFileAccessHttpUrl} from \"@api/manage\";\n  export default {\n    components: {\n      pdf\n    },\n    name: \"bPdf\",\n    props: {\n      file: {type: String, default: null, required: false},\n    },\n    data () {\n      return {\n        url:'',\n        id:\"pdfPreviewIframe\",\n        headers:{},\n        pageNum: 1,\n        pageTotalNum: 1,\n        pageRotate: 0,\n        // 加载进度\n        loadedRatio: 0,\n        curPageNum: 0,\n      }\n    },\n    created () {\n      const token = Vue.ls.get(ACCESS_TOKEN);\n      this.headers = {\"X-Access-Token\":token}\n      if (this.file){\n        this.url = getFileAccessHttpUrl(this.file)\n      }\n    },\n    computed:{\n\n    },\n    mounted(){\n    },\n    methods: {\n      onChange(pageNumber) {\n        console.log('Page: ', pageNumber);\n      },\n      // 上一页函数，\n      prePage() {\n        var page = this.pageNum\n        page = page > 1 ? page - 1 : this.pageTotalNum\n        this.pageNum = page\n      },\n      // 下一页函数\n      nextPage() {\n        var page = this.pageNum\n        page = page < this.pageTotalNum ? page + 1 : 1\n        this.pageNum = page\n      },\n      // 页面顺时针翻转90度。\n      clock() {\n        this.pageRotate += 90\n      },\n      // 页面逆时针翻转90度。\n      counterClock() {\n        this.pageRotate -= 90\n      },\n      // 页面加载回调函数，其中e为当前页数\n      pageLoaded(e) {\n        this.curPageNum = e\n      },\n      // 其他的一些回调函数。\n      pdfError(error) {\n        console.error(error)\n      },\n      toPage(pageNum) {\n        this.pageNum = pageNum\n      },\n      skip() {\n        let pageNum = this.pageNum;\n        if (!Number(pageNum)){ pageNum = 1 }\n        if (pageNum<1) pageNum = 1\n        if (pageNum>this.pageTotalNum) pageNum = this.pageTotalNum\n        this.pageNum = Math.floor(pageNum)\n      },\n      down() {\n        window.open(this.url)\n      }\n    },\n  }\n</script>\n\n<style scoped lang=\"less\">\n.tools{\n  .ant-btn{\n    margin: 4px 2px;\n  }\n  .page{\n    background-color: #fcfcfc;\n    padding: 2px 6px;\n    font-size: 16px;\n    margin: 0 4px;\n  }\n}\n</style>"],"sourceRoot":"src/extends/Bpdf"}]}