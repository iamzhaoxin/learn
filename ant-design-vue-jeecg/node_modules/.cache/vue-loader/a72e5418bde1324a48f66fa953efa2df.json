{"remainingRequest":"D:\\activiti\\project01\\jeecg-boot-activiti-master\\ant-design-vue-jeecg\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\activiti\\project01\\jeecg-boot-activiti-master\\ant-design-vue-jeecg\\src\\views\\activiti\\applyList.vue?vue&type=template&id=47eb5bb6&scoped=true&","dependencies":[{"path":"D:\\activiti\\project01\\jeecg-boot-activiti-master\\ant-design-vue-jeecg\\src\\views\\activiti\\applyList.vue","mtime":1621944249251},{"path":"D:\\activiti\\project01\\jeecg-boot-activiti-master\\ant-design-vue-jeecg\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1621061384845},{"path":"D:\\activiti\\project01\\jeecg-boot-activiti-master\\ant-design-vue-jeecg\\node_modules\\vue-loader\\lib\\loaders\\templateLoader.js","mtime":1621061372054},{"path":"D:\\activiti\\project01\\jeecg-boot-activiti-master\\ant-design-vue-jeecg\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1621061384845},{"path":"D:\\activiti\\project01\\jeecg-boot-activiti-master\\ant-design-vue-jeecg\\node_modules\\vue-loader\\lib\\index.js","mtime":1621061372054}],"contextDependencies":[],"result":["\n<a-card :bordered=\"false\">\n  <!-- 查询区域 -->\n  <div class=\"table-page-search-wrapper\">\n    <a-form layout=\"inline\" @keyup.enter.native=\"searchQuery\">\n      <a-row :gutter=\"24\">\n        <a-col :md=\"6\" :sm=\"8\">\n          <a-form-item label=\"标题\">\n            <a-input placeholder=\"请输入搜索关键词\" v-model=\"queryParam.title\"></a-input>\n          </a-form-item>\n        </a-col>\n        <a-col :md=\"6\" :sm=\"8\">\n          <a-form-item label=\"状态\">\n            <a-select v-model=\"queryParam.status\" placeholder=\"请选择\" :allowClear=\"true\" >\n              <a-select-option value=\"0\">草稿</a-select-option>\n              <a-select-option value=\"1\">处理中</a-select-option>\n              <a-select-option value=\"2\">已结束</a-select-option>\n              <a-select-option value=\"3\">已撤回</a-select-option>\n            </a-select>\n          </a-form-item>\n        </a-col>\n        <a-col :md=\"6\" :sm=\"8\">\n          <a-form-item label=\"结果\">\n            <a-select v-model=\"queryParam.result\" placeholder=\"请选择\" :allowClear=\"true\" >\n              <a-select-option value=\"0\">未提交</a-select-option>\n              <a-select-option value=\"1\">处理中</a-select-option>\n              <a-select-option value=\"2\">通过</a-select-option>\n              <a-select-option value=\"3\">驳回</a-select-option>\n            </a-select>\n          </a-form-item>\n        </a-col>\n        <a-col :md=\"6\" :sm=\"10\">\n          <a-form-item label=\"创建时间\" :labelCol=\"labelCol\" :wrapperCol=\"wrapperCol\">\n            <a-range-picker\n              style=\"width: 210px\"\n              v-model=\"queryParam.createTimeRange\"\n              format=\"YYYY-MM-DD\"\n              :placeholder=\"['开始时间', '结束时间']\"\n              @change=\"onDateChange\"\n              @ok=\"onDateOk\"\n            />\n          </a-form-item>\n        </a-col>\n\n        <span style=\"float: left;overflow: hidden;\" class=\"table-page-search-submitButtons\">\n          <a-col :md=\"6\" :sm=\"12\" >\n              <a-button type=\"primary\"  style=\"left: 10px\" @click=\"searchQuery\" icon=\"search\">查询</a-button>\n              <a-button type=\"primary\"  @click=\"searchReset\" icon=\"reload\" style=\"margin-left: 8px;left: 10px\">重置</a-button>\n          </a-col>\n        </span>\n        <span style=\"float: right;overflow: hidden;\" class=\"table-page-search-submitButtons\">\n          <a-col :md=\"12\" :sm=\"12\" >\n              <a-button type=\"primary\" @click=\"addApply\" :loading=\"addApplyLoading\" style=\"left: 10px\"  icon=\"plus-circle\">发起申请</a-button>\n          </a-col>\n        </span>\n\n      </a-row>\n    </a-form>\n  </div>\n\n  <!-- table区域-begin -->\n  <a-table :scroll=\"scroll\" bordered\n    ref=\"table\"\n    size=\"middle\"\n    rowKey=\"id\"\n    :dataSource=\"dataSource\"\n    :pagination=\"ipagination\"\n    :loading=\"loading\"\n    @change=\"handleTableChange\">\n    <a-table-column title=\"#\"  :width=\"50\">\n      <template slot-scope=\"t,r,i\" >\n        <span> {{i+1}} </span>\n      </template>\n    </a-table-column>\n    <a-table-column title=\"标题\" dataIndex=\"title\"  :width=\"150\" align=\"center\">\n      <template slot-scope=\"t,r,i\">\n        <span> {{t}} </span>\n      </template>\n    </a-table-column>\n    <a-table-column title=\"所属流程\" dataIndex=\"processName\"  :width=\"150\" align=\"center\">\n      <template slot-scope=\"t,r,i\">\n        <span> {{t}} </span>\n      </template>\n    </a-table-column>\n    <a-table-column title=\"当前审批环节\" dataIndex=\"currTaskName\"  :width=\"150\" align=\"center\">\n      <template slot-scope=\"t,r,i\">\n        <span> {{t}} </span>\n      </template>\n    </a-table-column>\n    <a-table-column title=\"状态\" dataIndex=\"status\"  :width=\"150\" align=\"center\"\n      key=\"s\" :sorter=\"(a,b)=>a.status - b.status\"\n    >\n      <template slot-scope=\"t,r,i\">\n        <span :style=\"{color:getStatus(t).color}\"> {{getStatus(t).text}} </span>\n      </template>\n    </a-table-column>\n    <a-table-column title=\"结果\" dataIndex=\"result\"  :width=\"150\" align=\"center\"\n                    key=\"result\" :sorter=\"(a,b)=>a.result - b.result\"\n    >\n      <template slot-scope=\"t,r,i\">\n        <span :style=\"{color:getResult(t).color}\"> {{getResult(t).text}} </span>\n      </template>\n    </a-table-column>\n    <a-table-column title=\"创建时间\" dataIndex=\"createTime\"  :width=\"150\" align=\"center\">\n      <template slot-scope=\"t,r,i\">\n        <span> {{t}} </span>\n      </template>\n    </a-table-column>\n    <a-table-column title=\"提交申请时间\" dataIndex=\"applyTime\"  :width=\"150\" align=\"center\">\n      <template slot-scope=\"t,r,i\">\n        <span> {{t}} </span>\n      </template>\n    </a-table-column><!--\n    <a-table-column title=\"流程实例状态\" dataIndex=\"procInstStatus\"  :width=\"150\" align=\"center\">\n      <template slot-scope=\"t,r,i\">\n        <span> {{t}} </span>\n      </template>\n    </a-table-column>-->\n    <a-table-column title=\"操作\" dataIndex=\"\"  align=\"center\">\n      <template slot-scope=\"t,r,i\">\n        <template v-if=\"r.status == 0\">\n          <a href=\"javascript:void(0);\" style=\"color: #00A0E9\" @click=\"apply(r)\" >提交申请</a>\n          <a-divider type=\"vertical\" />\n          <a href=\"javascript:void(0);\" @click=\"edit(r)\" style=\"color: #000000\">编辑提交数据</a>\n          <a-divider type=\"vertical\" />\n          <a-popconfirm title=\"确定删除吗?\" @confirm=\"() => remove(r)\">\n            <a href=\"javascript:void(0);\"  style=\"color: red\">删除</a>\n          </a-popconfirm>\n\n        </template>\n        <template v-else-if=\"r.status == 1\">\n\n          <a href=\"javascript:void(0);\" v-if=\"r.procInstStatus == 1\" @click=\"cancel(r)\"  style=\"color:#8000ff;\">撤回</a>\n          <a-divider type=\"vertical\" v-if=\"r.procInstStatus == 1\"/>\n          <a href=\"javascript:void(0);\" @click=\"history(r)\" style=\"color:blue;\">查看进度</a>\n          <a-divider type=\"vertical\" />\n          <a href=\"javascript:void(0);\" @click=\"detail(r)\" style=\"color:#999;\">表单数据</a>\n        </template>\n        <template v-else-if=\"(r.status == 2 && r.result == 3) || r.status == 3\">\n          <a-popconfirm title=\"确定提交申请吗?\" @confirm=\"() => apply(r)\">\n            <a href=\"javascript:void(0);\" style=\"color:#00A0E9;\">重新申请</a>\n          </a-popconfirm>\n          <a-divider type=\"vertical\" />\n          <a href=\"javascript:void(0);\" @click=\"edit(r)\" style=\"color:#000000;\">编辑</a>\n          <a-divider type=\"vertical\" />\n          <a href=\"javascript:void(0);\" @click=\"history(r)\" style=\"color:blue;\">审批历史</a>\n        </template>\n        <template v-else>\n          <a href=\"javascript:void(0);\" @click=\"detail(r)\" style=\"color:#999;\">表单数据</a>\n          <a-divider type=\"vertical\" />\n          <a href=\"javascript:void(0);\" @click=\"history(r)\" style=\"color:blue;\">审批历史</a>\n        </template>\n\n      </template>\n    </a-table-column>\n  </a-table>\n  <!-- table区域-end -->\n  <!--流程申请选择-->\n  <a-drawer\n    title=\"选择流程\" width=\"33%\"\n    placement=\"right\"\n    :closable=\"false\"\n    @close=\"processModalVisible = false\"\n    :visible=\"processModalVisible\"\n  >\n    <a-empty description=\"无流程可供选择\" v-if=\"activeKeyAll.length==0\" />\n    <div v-else>\n      <a-input-search style=\"margin-bottom: 10px;width: 200px\"\n                      placeholder=\"输入流程名称\" @search=\"onSearchProcess\" />\n      <a-collapse v-model=\"activeKey\">\n        <a-collapse-panel v-for=\"(value, index)  in activeKeyAll\" :header=\"filterDictText(dictOptions,value)||'未分类'\" :key=\"value\">\n          <a-list :grid=\"{ gutter: 10,column:1}\" :dataSource=\"processDataMap[value]\">\n            <a-list-item slot=\"renderItem\" slot-scope=\"item\">\n              <a-card>\n                <div slot=\"title\">\n                  <a-row>\n                    <a-col span=\"12\" :title=\"item.name\">{{item.name}} </a-col>\n                    <a-col span=\"12\" style=\"text-align: right;\">\n                      <a href=\"javascript:void (0)\" @click=\"chooseProcess(item)\">发起申请</a>\n                    </a-col>\n                  </a-row>\n                </div>\n                <b>版本：</b>v.{{item.version}}\n                <br/>\n                <b>说明：</b>{{item.description}}\n              </a-card>\n            </a-list-item>\n          </a-list>\n        </a-collapse-panel>\n      </a-collapse>\n    </div>\n  </a-drawer>\n  <!--流程表单-->\n  <a-modal :title=\"lcModa.title\" v-model=\"lcModa.visible\" :footer=\"null\" :maskClosable=\"false\" width=\"80%\">\n    <component :disabled=\"lcModa.disabled\" v-if=\"lcModa.visible\" :is=\"lcModa.formComponent\"\n               :processData=\"lcModa.processData\" :isNew = \"lcModa.isNew\"\n               @afterSubmit=\"afterSub\" @close=\"lcModa.visible=false,lcModa.disabled = false\"></component>\n  </a-modal>\n  <!--提交申请表单-->\n  <a-modal title=\"提交申请\" v-model=\"modalVisible\" :mask-closable=\"false\" :width=\"500\" :footer=\"null\">\n    <div v-if=\"modalVisible\">\n      <a-form-item label=\"选择审批人\" v-show=\"showAssign\">\n        <a-select style=\"width: 100%\"\n          v-model=\"form.assignees\"\n          placeholder=\"请选择\"\n          mode=\"multiple\"\n          :allowClear=\"true\"\n        >\n          <a-select-option v-for=\"(item, i) in assigneeList\" :key=\"i\" :value=\"item.username\">{{item.realname}}</a-select-option>\n        </a-select>\n      </a-form-item>\n      <a-form-item label=\"下一审批人\" v-show=\"isGateway\">\n        <a-alert  type=\"info\" showIcon message=\"分支网关处不支持自定义选择下一审批人，将自动下发给所有可审批人。\">，将发送给下一节点所有人</a-alert>\n      </a-form-item>\n      <a-form-item label=\"优先级\" prop=\"priority\">\n        <a-select v-model=\"form.priority\" placeholder=\"请选择\" :allowClear=\"true\" style=\"width: 100%\">\n          <a-select-option :value=\"0\">普通</a-select-option>\n          <a-select-option :value=\"1\">重要</a-select-option>\n          <a-select-option :value=\"2\">紧急</a-select-option>\n        </a-select>\n      </a-form-item>\n      <a-form-item label=\"消息通知\">\n        <a-checkbox v-model=\"form.sendMessage\">站内消息通知</a-checkbox>\n        <a-checkbox v-model=\"form.sendSms\" disabled>短信通知</a-checkbox>\n        <a-checkbox v-model=\"form.sendEmail\" disabled>邮件通知</a-checkbox>\n      </a-form-item>\n      <div slot=\"footer\">\n        <a-button type=\"text\" @click=\"modalVisible=false\">取消</a-button>\n        <div style=\"display:inline-block;width: 20px;\"></div>\n        <a-button type=\"primary\" :disabled=\"submitLoading\" @click=\"applySubmit\">提交</a-button>\n      </div>\n    </div>\n  </a-modal>\n  <a-modal title=\"审批历史\" v-model=\"modalLsVisible\" :mask-closable=\"false\" :width=\"'80%'\" :footer=\"null\">\n    <div v-if=\"modalLsVisible\">\n      <historicDetail :procInstId=\"procInstId\"></historicDetail>\n    </div>\n  </a-modal>\n  <a-modal title=\"确认撤回\" v-model=\"modalCancelVisible\" :mask-closable=\"false\" :width=\"500\">\n    <a-form ref=\"delForm\" v-model=\"cancelForm\" :label-width=\"70\" v-if=\"modalCancelVisible\">\n      <a-form-item label=\"撤回原因\" prop=\"reason\">\n        <a-input type=\"textarea\" v-model=\"cancelForm.reason\" :rows=\"4\" />\n      </a-form-item>\n    </a-form>\n    <div slot=\"footer\">\n      <a-button type=\"text\" @click=\"modalCancelVisible=false\">取消</a-button>\n      <a-button type=\"primary\" :disabled=\"submitLoading\" @click=\"handelSubmitCancel\">提交</a-button>\n    </div>\n  </a-modal>\n</a-card>\n\n",null]}