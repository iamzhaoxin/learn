{"remainingRequest":"D:\\activiti\\project01\\jeecg-boot-activiti-master\\ant-design-vue-jeecg\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\activiti\\project01\\jeecg-boot-activiti-master\\ant-design-vue-jeecg\\src\\views\\activiti\\ProcessModelList.vue?vue&type=template&id=34ac6a3e&scoped=true&","dependencies":[{"path":"D:\\activiti\\project01\\jeecg-boot-activiti-master\\ant-design-vue-jeecg\\src\\views\\activiti\\ProcessModelList.vue","mtime":1621994095276},{"path":"D:\\activiti\\project01\\jeecg-boot-activiti-master\\ant-design-vue-jeecg\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1621061384845},{"path":"D:\\activiti\\project01\\jeecg-boot-activiti-master\\ant-design-vue-jeecg\\node_modules\\vue-loader\\lib\\loaders\\templateLoader.js","mtime":1621061372054},{"path":"D:\\activiti\\project01\\jeecg-boot-activiti-master\\ant-design-vue-jeecg\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1621061384845},{"path":"D:\\activiti\\project01\\jeecg-boot-activiti-master\\ant-design-vue-jeecg\\node_modules\\vue-loader\\lib\\index.js","mtime":1621061372054}],"contextDependencies":[],"result":["\n  <a-card :bordered=\"false\">\n    <!-- 查询区域 -->\n    <div class=\"table-page-search-wrapper\">\n      <a-form layout=\"inline\" @keyup.enter.native=\"searchQuery\">\n        <a-row :gutter=\"24\">\n\n          <a-col :md=\"6\" :sm=\"8\">\n            <a-form-item label=\"流程名称\">\n              <a-input placeholder=\"请输入搜索关键词\" v-model=\"queryParam.lcmc\"></a-input>\n            </a-form-item>\n          </a-col>\n          <a-col :md=\"6\" :sm=\"8\">\n            <a-form-item label=\"流程标识\">\n              <a-input placeholder=\"请输入搜索关键词\" v-model=\"queryParam.lckey\"></a-input>\n            </a-form-item>\n          </a-col>\n          <a-col :md=\"6\" :sm=\"8\">\n            <a-form-item label=\"是否最新\">\n              <a-switch checkedChildren=\"是\" unCheckedChildren=\"否\" defaultChecked v-model=\"queryParam.zx\"/>\n            </a-form-item>\n          </a-col>\n          <!--<a-col :md=\"6\" :sm=\"10\">\n            <a-form-item label=\"创建时间\" :labelCol=\"labelCol\" :wrapperCol=\"wrapperCol\">\n              <a-range-picker\n                style=\"width: 210px\"\n                v-model=\"queryParam.createTimeRange\"\n                format=\"YYYY-MM-DD\"\n                :placeholder=\"['开始时间', '结束时间']\"\n                @change=\"onDateChange\"\n                @ok=\"onDateOk\"\n              />\n            </a-form-item>\n          </a-col>-->\n\n          <span style=\"float: left;overflow: hidden;\" class=\"table-page-search-submitButtons\">\n            <a-col :md=\"6\" :sm=\"12\" >\n                <a-button type=\"primary\"  style=\"left: 10px\" @click=\"searchQuery\" icon=\"search\">查询</a-button>\n                <a-button type=\"primary\"  @click=\"searchReset\" icon=\"reload\" style=\"margin-left: 8px;left: 10px\">重置</a-button>\n            </a-col>\n          </span>\n          <span style=\"float: right;overflow: hidden;\" class=\"table-page-search-submitButtons\">\n            <a-col :md=\"12\" :sm=\"12\" >\n<!--                <a-button type=\"primary\"  style=\"left: 10px\" @click=\"createObj.visible=true\" icon=\"search\">创建流程模型</a-button>-->\n            </a-col>\n          </span>\n\n        </a-row>\n      </a-form>\n    </div>\n\n    <!-- table区域-begin -->\n    <a-table :scroll=\"{x:2200,y:500}\" bordered\n      ref=\"table\"\n      size=\"middle\"\n      rowKey=\"id\"\n      :dataSource=\"dataSource\"\n      :pagination=\"ipagination\"\n      :loading=\"loading\"\n      @change=\"handleTableChange\">\n\n      <a-table-column title=\"#\" :width=\"50\" fixed='left' key=\"a\">\n        <template slot-scope=\"t,r,i\" >\n          <span> {{i+1}} </span>\n        </template>\n      </a-table-column>\n      <a-table-column title=\"流程名称\" dataIndex=\"name\" :width=\"200\" align=\"center\" fixed='left'>\n        <template slot-scope=\"t,r,i\">\n          <span> {{t}} </span>\n        </template>\n      </a-table-column>\n      <a-table-column title=\"流程标识\" dataIndex=\"processKey\" :width=\"200\" align=\"center\">\n        <template slot-scope=\"t,r,i\">\n          <span> {{t}} </span>\n        </template>\n      </a-table-column>\n      <a-table-column title=\"版本\" dataIndex=\"version\" key=\"asa\" :width=\"100\" align=\"center\"\n                       :sorter=\"(a, b) => a.version - b.version\">\n        <template slot-scope=\"t,r,i\">\n          <span> v.{{t}} </span>\n        </template>\n      </a-table-column>\n      <a-table-column title=\"所属分类\" dataIndex=\"categoryId\" :width=\"200\" align=\"center\" key=\"categoryId_\"\n                      :filters = \"lcTypeF\" @filter=\"filter_categoryId\">\n        <template slot-scope=\"t,r,i\">\n          <span> {{filterDictText(dictOptions, t)}} </span>\n        </template>\n      </a-table-column>\n      <a-table-column title=\"流程图片\" dataIndex=\"diagramName\" :width=\"200\" align=\"center\">\n        <template slot-scope=\"t,r,i\">\n          <span @click=\"showResource(r)\" style=\"color: blue;cursor: pointer;\">{{t}}</span>\n        </template>\n      </a-table-column>\n      <a-table-column title=\"表单路由\" dataIndex=\"routeName\" :width=\"200\" align=\"center\">\n        <template slot-scope=\"t,r,i\">\n          <span @click=\"viewForm(t)\" style=\"color: blue;cursor: pointer;\"> {{getFormComponent(t).text}} </span>\n        </template>\n      </a-table-column>\n      <a-table-column title=\"状态\" dataIndex=\"status\" :width=\"200\" align=\"center\">\n        <template slot-scope=\"t,r,i\">\n          <span v-if=\"t==1\" style=\"color: #00A0E9;\"> 已启用 </span>\n          <span v-if=\"t!=1\" style=\"color: #999;\"> 未启用 </span>\n        </template>\n      </a-table-column>\n      <a-table-column title=\"备注说明\" dataIndex=\"description\" :width=\"200\" align=\"center\">\n        <template slot-scope=\"t,r,i\">\n          <j-ellipsis :value=\"t\" :length=\"10\"/>\n        </template>\n      </a-table-column>\n      <a-table-column title=\"部署时间\" dataIndex=\"createTime\" :width=\"200\" align=\"center\">\n        <template slot-scope=\"t,r,i\">\n          <span> {{t}} </span>\n        </template>\n      </a-table-column>\n      <a-table-column title=\"更新时间\" dataIndex=\"updateTime\" :width=\"200\" align=\"center\">\n        <template slot-scope=\"t,r,i\">\n          <span> {{t}} </span>\n        </template>\n      </a-table-column>\n      <a-table-column title=\"操作\" dataIndex=\"\"  align=\"center\" :width=\"250\" fixed='right'>\n        <template slot-scope=\"t,r,i\">\n\n          <a href=\"javascript:void(0);\" v-if=\"r.status!=1\" @click=\"editStatus(1,r)\" style=\"color: rgb(144,96,255);\">启用</a>\n          <a href=\"javascript:void(0);\" v-if=\"r.status==1\" @click=\"editStatus(0,r)\" style=\"color: #cb892d\">禁用</a>\n          <a-divider type=\"vertical\" />\n          <a href=\"javascript:void(0);\" @click=\"getNodeData(r)\" >节点设置</a>\n          <a-divider type=\"vertical\" />\n          <a href=\"javascript:void(0);\" @click=\"convertToModel(r)\" >复制为模型</a>\n          <br>\n          <a href=\"javascript:void(0);\"  @click=\"edit(r)\">编辑</a> <a-divider type=\"vertical\" />\n          <a href=\"javascript:void(0);\" style=\"color: red;\" @click=\"remove(r)\">删除</a>\n\n\n        </template>\n      </a-table-column>\n    </a-table>\n    <!-- table区域-end -->\n    <!--编辑-->\n    <a-modal  width=\"900px\"\n      :confirmLoading=\"confirmLoading\"\n      title=\"编辑流程\"\n      :visible=\"editObj.visible\"\n      @ok=\"editObjOk\"\n      @cancel=\"editObj.visible = false\"\n    >\n      <a-form :form=\"editForm\" v-if=\"editObj.visible\">\n        <a-form-item :label-col=\"labelCol\" :wrapper-col=\"wrapperCol\" label=\"流程分类\" >\n          <component :is=\"LcDict\" :trigger-change=\"true\" v-decorator=\"[ 'categoryId', {initialValue:editObj.categoryId, rules: [{ required: true, message: '不能为空' }] },]\"\n                       placeholder=\"请选择流程分类\" dictCode=\"bpm_process_type\" ></component>\n        </a-form-item>\n       <!-- <a-form-item :label-col=\"labelCol\" :wrapper-col=\"wrapperCol\" label=\"流程类目(app使用)\" >\n          <j-tree-dict placeholder=\"请选择流程类目\" parentCode=\"A01\"\n                       :trigger-change=\"true\" v-decorator=\"[ 'typeId', {initialValue:editObj.typeId, rules: [{ required: true, message: '不能为空' }] },]\"\n          >\n          </j-tree-dict>\n        </a-form-item>-->\n        <a-form-item :label-col=\"labelCol\" :wrapper-col=\"wrapperCol\" label=\"关联表单\" >\n          <a-select @change=\"change_routeName\" placeholder=\"请选择关联表单\" :trigger-change=\"true\" v-decorator=\"[ 'routeName', {initialValue:editObj.routeName, rules: [{ required: true, message: '不能为空' }] },]\">\n            <a-select-option value=\"\">请选择</a-select-option>\n            <a-select-option v-for=\"(item, i) in allFormComponent\" :key=\"item.routeName\" :value=\"item.routeName\">\n              <span style=\"display: inline-block;width: 100%\" :title=\" item.text\">\n                {{ item.text}}\n              </span>\n            </a-select-option>\n          </a-select>\n          <a href=\"javascrip:void(0)\" @click=\"viewForm()\">预览表单</a>\n        </a-form-item>\n\n<!--        <a-form-item :label-col=\"labelCol\" :wrapper-col=\"wrapperCol\" label=\"关联打印报表\" >\n          <a-select @change=\"change_routeName\" placeholder=\"请选择关联报表\" :trigger-change=\"true\" v-decorator=\"[ 'reportModelId', {initialValue:editObj.reportModelId, rules: [{ required: true, message: '不能为空' }] },]\">\n            <a-select-option value=\"\">请选择</a-select-option>\n            <a-select-option v-for=\"(item, i) in reportList\" :key=\"item.id\" :value=\"item.id\">\n              <span style=\"display: inline-block;width: 100%\" :title=\" item.name\">\n                {{ item.name}}\n              </span>\n            </a-select-option>\n          </a-select>\n          &lt;!&ndash;<a href=\"javascrip:void(0)\" @click=\"viewForm()\">预览表单</a>&ndash;&gt;\n        </a-form-item>-->\n\n        <a-form-item :label-col=\"labelCol\" :wrapper-col=\"wrapperCol\" label=\"角色授权\" >\n          <j-select-role placeholder=\"不选择则所有人可用\" v-decorator=\"[ 'roles', {initialValue:editObj.roles, rules: []}]\"/>\n        </a-form-item>\n        <a-form-item :label-col=\"labelCol\" :wrapper-col=\"wrapperCol\" label=\"排序\" >\n          <a-input-number  v-decorator=\"[ 'sort', {initialValue:editObj.sort, rules: []}]\" placeholder=\"排序\"/>\n        </a-form-item>\n        <a-form-item :label-col=\"labelCol\" :wrapper-col=\"wrapperCol\" label=\"备注描述\" >\n          <a-textarea  v-decorator=\"[ 'description', {initialValue:editObj.description, rules: []}]\" placeholder=\"备注描述\" :autoSize=\"{ minRows: 3, maxRows: 5 }\" />\n        </a-form-item>\n      </a-form>\n    </a-modal>\n    <!--节点设置-->\n    <a-modal\n      title=\"编辑流程节点\" width=\"900px\" :maskClosable=\"false\"\n      :confirmLoading=\"confirmLoading\"\n      :visible=\"showProcessNodeEdit\"\n      :footer=\"null\"\n      @cancel=\"closeNode\"\n    >\n      <a-row>\n        <a-col :md=\"4\" :sm=\"4\" style=\"border-right: 1px solid #999\">\n<!--          选择流程节点-->\n          <a-steps direction=\"vertical\" :current=\"current\" size=\"small\">\n            <template  v-for=\"item,i in nodeList\">\n              <a-step style=\"cursor: pointer;\" :title=\"item.title\"\n                      :description=\"item.description\" :status=\"i==current?'process':'wait'\"\n                      @click=\"change_steps(item,i)\"/>\n            </template>\n          </a-steps>\n        </a-col>\n        <a-col :md=\"20\" :sm=\"20\">\n          <a-alert message=\"温馨提示：若流程运行至未分配审批人员的审批节点时，流程将自动中断取消！\" banner />\n          <span></span>\n          <a-form :form=\"nodeForm\" v-if=\"showProcessNodeEdit\">\n            <a-form-item :label-col=\"labelCol\" :wrapper-col=\"wrapperCol\" label=\"节点名称\" >\n              <span class=\"nodespan\">{{editNode.title}}</span>\n            </a-form-item>\n            <a-form-item :label-col=\"labelCol\" :wrapper-col=\"wrapperCol\" label=\"节点类型\" >\n              <span class=\"nodespan\">{{dictNodeType[editNode.type]}}</span>\n            </a-form-item>\n            <a-alert type=\"info\" message=\"每个节点设置，如有修改都请保存一次，跳转节点后数据不会自动保存！\" banner />\n            <br/>\n            <a-form-item :label-col=\"labelCol\" :wrapper-col=\"wrapperCol\"  label=\"审批人员\" v-show=\"editNode.type==1\">\n              <a-checkbox-group @change=\"spryType\" v-model=\"spryTypes\" >\n                  <!-- 0角色 1用户 2部门 3发起人 4发起人的部门负责人-->\n                <a-checkbox value=\"0\"> 根据角色选择 </a-checkbox>\n                <a-checkbox value=\"1\"> 直接选择人员 </a-checkbox>\n                <a-checkbox value=\"2\"> 部门 </a-checkbox>\n                <a-checkbox value=\"5\"> 部门负责人 </a-checkbox>\n                <a-checkbox value=\"3\">\n                  发起人\n                  <a-tooltip placement=\"topLeft\" title=\"自动获取发起人\">\n                    <a-icon type=\"exclamation-circle\" />\n                  </a-tooltip>\n                </a-checkbox>\n                <a-checkbox value=\"4\">\n                  发起人的部门负责人\n                  <a-tooltip placement=\"topLeft\" title=\"自动获取发起人所在部门的负责人，即其上级领导。（如果其本身就是部门负责人，则指向发起人自己。）\">\n                    <a-icon type=\"exclamation-circle\" />\n                  </a-tooltip>\n                </a-checkbox>\n                <a-checkbox value=\"6\">\n                  表单变量\n                  <a-tooltip placement=\"topLeft\" title=\"填写与表单中相对应的变量，role:角色，user:人员：dept:部门：deptManage:部门负责人; 例如：variable:role,variable2:user;\">\n                    <a-icon type=\"exclamation-circle\" />\n                  </a-tooltip>\n                </a-checkbox>\n\n              </a-checkbox-group>\n            </a-form-item>\n            <!--            0角色 1用户 2部门 3发起人 4发起人的部门负责人-->\n            <a-form-item :label-col=\"labelCol\" :wrapper-col=\"wrapperCol\" label=\"选择角色\" v-if=\"spryTypes.indexOf('0')>-1\" >\n              <j-select-role  v-model=\"spry.roleIds\"/>\n            </a-form-item>\n            <a-form-item :label-col=\"labelCol\" :wrapper-col=\"wrapperCol\" label=\"选择人员\" v-if=\"spryTypes.indexOf('1')>-1\" >\n              <!--  通过部门选择用户控件 -->\n              <j-select-user-by-dep v-model=\"spry.userIds\" :multi=\"true\"></j-select-user-by-dep>\n            </a-form-item>\n            <a-form-item :label-col=\"labelCol\" :wrapper-col=\"wrapperCol\" label=\"选择部门\" v-if=\"spryTypes.indexOf('2')>-1\" >\n              <j-select-depart v-model=\"spry.departmentIds\" :multi=\"true\"></j-select-depart>\n            </a-form-item>\n            <a-form-item :label-col=\"labelCol\" :wrapper-col=\"wrapperCol\" label=\"选择部门负责人\" v-if=\"spryTypes.indexOf('5')>-1\" >\n              <j-select-depart v-model=\"spry.departmentManageIds\" :multi=\"true\"></j-select-depart>\n            </a-form-item>\n            <a-form-item :label-col=\"labelCol\" :wrapper-col=\"wrapperCol\" label=\"输入表单变量\" v-if=\"spryTypes.indexOf('6')>-1\" >\n              <a-input v-model=\"spry.formVariables\" :multi=\"true\"></a-input>\n            </a-form-item>\n            <!--btn-->\n            <a-form-item :wrapper-col=\"{ span: 12, offset: 5 }\">\n              <a-button @click=\"sprySubmit\" type=\"primary\" html-type=\"submit\" :disabled=\"editNode.type==0||editNode.type==2||confirmLoading\">\n                提交并保存\n              </a-button>\n\n              <a-button @click=\"closeNode\" style=\"margin-left: 10px\">\n                关闭\n              </a-button>\n            </a-form-item>\n          </a-form>\n        </a-col>\n      </a-row>\n    </a-modal>\n    <!--查看图片-->\n    <a-modal\n      :title=\"viewTitle\" width=\"90%\"\n      :visible=\"viewImage\" :footer=\"null\"\n      @cancel=\"viewImage = false\"\n    >\n      <div style=\"min-height: 400px\">\n        <img :src=\"diagramUrl\" :alt=\"viewTitle\">\n      </div>\n    </a-modal>\n    <!--流程表单 预览-->\n    <a-modal  :title=\"lcModa.title\" v-model=\"lcModa.visible\" :footer=\"null\" :maskClosable=\"false\" width=\"80%\">\n      <component :is=\"lcModa.formComponent\" :disabled=\"true\"></component>\n    </a-modal>\n  </a-card>\n\n",null]}