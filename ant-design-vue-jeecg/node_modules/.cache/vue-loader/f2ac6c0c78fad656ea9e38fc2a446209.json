{"remainingRequest":"D:\\activiti\\project01\\jeecg-boot-activiti-master\\ant-design-vue-jeecg\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\activiti\\project01\\jeecg-boot-activiti-master\\ant-design-vue-jeecg\\src\\extends\\Bpdf\\Bpdf.vue?vue&type=style&index=0&id=663395b0&scoped=true&lang=less&","dependencies":[{"path":"D:\\activiti\\project01\\jeecg-boot-activiti-master\\ant-design-vue-jeecg\\src\\extends\\Bpdf\\Bpdf.vue","mtime":1611914356000},{"path":"D:\\activiti\\project01\\jeecg-boot-activiti-master\\ant-design-vue-jeecg\\node_modules\\css-loader\\index.js","mtime":1620887942039},{"path":"D:\\activiti\\project01\\jeecg-boot-activiti-master\\ant-design-vue-jeecg\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1621061372054},{"path":"D:\\activiti\\project01\\jeecg-boot-activiti-master\\ant-design-vue-jeecg\\node_modules\\postcss-loader\\src\\index.js","mtime":1617935823297},{"path":"D:\\activiti\\project01\\jeecg-boot-activiti-master\\ant-design-vue-jeecg\\node_modules\\less-loader\\dist\\cjs.js","mtime":1621061389135},{"path":"D:\\activiti\\project01\\jeecg-boot-activiti-master\\ant-design-vue-jeecg\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1621061384845},{"path":"D:\\activiti\\project01\\jeecg-boot-activiti-master\\ant-design-vue-jeecg\\node_modules\\vue-loader\\lib\\index.js","mtime":1621061372054}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.tools{\n  .ant-btn{\n    margin: 4px 2px;\n  }\n  .page{\n    background-color: #fcfcfc;\n    padding: 2px 6px;\n    font-size: 16px;\n    margin: 0 4px;\n  }\n}\n",{"version":3,"sources":["Bpdf.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Bpdf.vue","sourceRoot":"src/extends/Bpdf","sourcesContent":["<template>\n  <div class=\"b-pdf\">\n    <div v-if=\"url!=''\">\n      <div class=\"tools\">\n        <a-button @click.stop=\"toPage(1)\"><a-icon type=\"vertical-right\" /> 首页</a-button>\n        <a-button @click.stop=\"prePage\"><a-icon type=\"left\" /> 上一页</a-button>\n        <span class=\"page\">{{pageNum}}/{{pageTotalNum}} </span>\n        跳转到: &nbsp;<a-input-number v-model=\"pageNum\" @change=\"skip\" style=\"width: 60px;margin-right: 4px;\"></a-input-number>\n        <a-button @click.stop=\"nextPage\"><a-icon type=\"right\" /> 下一页</a-button>\n        <a-button @click.stop=\"toPage(pageTotalNum)\"><a-icon type=\"vertical-left\" /> 尾页</a-button>\n        <span style=\"float: right\">\n          <a-button @click.stop=\"clock\"><a-icon type=\"redo\" /> 顺时针</a-button>\n          <a-button @click.stop=\"counterClock\"><a-icon type=\"undo\" /> 逆时针</a-button>\n          <a-button @click.stop=\"down\"><a-icon type=\"arrow-down\" />下载</a-button>\n        </span>\n      </div>\n      <pdf ref=\"pdf\"\n           :src=\"url\"\n           :page=\"pageNum\"\n           :rotate=\"pageRotate\"\n           @progress=\"loadedRatio = $event\"\n           @page-loaded=\"pageLoaded($event)\"\n           @num-pages=\"pageTotalNum=$event\"\n           @error=\"pdfError($event)\"\n           @link-clicked=\"page = $event\">\n      </pdf>\n    </div>\n    <a-empty v-else :description=\"'未找到pdf文件'\">\n    </a-empty>\n  </div>\n</template>\n\n<script>\n  import Vue from 'vue'\n  import { ACCESS_TOKEN } from \"@/store/mutation-types\"\n  import pdf from 'vue-pdf'\n  import {getFileAccessHttpUrl} from \"@api/manage\";\n  export default {\n    components: {\n      pdf\n    },\n    name: \"bPdf\",\n    props: {\n      file: {type: String, default: null, required: false},\n    },\n    data () {\n      return {\n        url:'',\n        id:\"pdfPreviewIframe\",\n        headers:{},\n        pageNum: 1,\n        pageTotalNum: 1,\n        pageRotate: 0,\n        // 加载进度\n        loadedRatio: 0,\n        curPageNum: 0,\n      }\n    },\n    created () {\n      const token = Vue.ls.get(ACCESS_TOKEN);\n      this.headers = {\"X-Access-Token\":token}\n      if (this.file){\n        this.url = getFileAccessHttpUrl(this.file)\n      }\n    },\n    computed:{\n\n    },\n    mounted(){\n    },\n    methods: {\n      onChange(pageNumber) {\n        console.log('Page: ', pageNumber);\n      },\n      // 上一页函数，\n      prePage() {\n        var page = this.pageNum\n        page = page > 1 ? page - 1 : this.pageTotalNum\n        this.pageNum = page\n      },\n      // 下一页函数\n      nextPage() {\n        var page = this.pageNum\n        page = page < this.pageTotalNum ? page + 1 : 1\n        this.pageNum = page\n      },\n      // 页面顺时针翻转90度。\n      clock() {\n        this.pageRotate += 90\n      },\n      // 页面逆时针翻转90度。\n      counterClock() {\n        this.pageRotate -= 90\n      },\n      // 页面加载回调函数，其中e为当前页数\n      pageLoaded(e) {\n        this.curPageNum = e\n      },\n      // 其他的一些回调函数。\n      pdfError(error) {\n        console.error(error)\n      },\n      toPage(pageNum) {\n        this.pageNum = pageNum\n      },\n      skip() {\n        let pageNum = this.pageNum;\n        if (!Number(pageNum)){ pageNum = 1 }\n        if (pageNum<1) pageNum = 1\n        if (pageNum>this.pageTotalNum) pageNum = this.pageTotalNum\n        this.pageNum = Math.floor(pageNum)\n      },\n      down() {\n        window.open(this.url)\n      }\n    },\n  }\n</script>\n\n<style scoped lang=\"less\">\n.tools{\n  .ant-btn{\n    margin: 4px 2px;\n  }\n  .page{\n    background-color: #fcfcfc;\n    padding: 2px 6px;\n    font-size: 16px;\n    margin: 0 4px;\n  }\n}\n</style>"]}]}